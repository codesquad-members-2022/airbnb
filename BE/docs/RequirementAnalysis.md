# [airbnb] 기획 요구사항 분석

- 작성일 : 2022.5.24
- 수정일 : 2022.5.25

airbnb 프로젝트의 기획서를 보고, 벡엔드 개발 필요 요소와 협의 요소를 정리한 문서입니다. 
 

---

## [Elastic Search] 인기 여행지 리스트
- 여행지 검색 : 자동완성되어 리스트로 보여진다.
- [ ] 자동완성된 리스트는 어떤 정보인가? 지역/동까지?


## [API] 해당 숙소 목록의 가격정보 전달
- 조건 : 검색 위치, 일정
- 금액대 조정 화면
- [iOS] 금액대 단위는? 만원단위?
- [BE]그래프 그리기 위해 다양한 가격 범위의 샘플 데이터 수를 전달

> 협의 사항
- 미리 금액대 단위별로 서버에서 카운팅하지 않고, 예약 가능한 숙소의 금액정보 목록을 전달.
- 해당 이유 : iOS에서 사용할 수 있는 raw data로 그래프를 그리는 라이브러리가 있다고 하심.

## [API] 숙소 검색결과 리스트
- 조건 : 위치, 요금, (일정, 인원)(옵션)
- [ ] 검색 입력 값 표시 : API response에 포함 여부 협의
    - 미포함이 맞을 것 같다. 개인화된 정보가 포함되어 있어서.. 근데 또 숙소 일정에 빈 방 여부가 확인되어야 하니 어짜피 개인화된 정보이기도?
        - 예) 양재/5월1~5월2일/게스트 2명 유아1명
- 노출 데이터
    - [x] 하트(위시리스트) 여부 확인 - 위시리스트 포함해서 결과 검색됨
    - 숙소이름
    - 평균점수
    - 후기정보(갯수) : 예) 127개
    - 1박 요금
    - [ ] [iOS] 총액 요금
        - 일정, 인원 조건이 없을 경우 미노출. 또는 1박 요금 노출
        - 이 부분은 API에서 다루는 데이터가 아닌, 앞단에서 다루는 데이터로 해도 될 것 같다. 이유는 아직 예약 정보가 아니기 때문에 앞단에 표시 정보로 확인하는 부분이기 때문이다. 이 부분 협의.
    - [x] [iOS]view 형태 : 카드리스트, 지도로 확인(위도,경도 정보 전달)


## [API] 숙소 검색결과 상세 정보
- 노출 데이터
    - 숙소이름
    - 평균점수(4.8) - 리뷰 테이블
    - 후기정보(갯수) : 예)127개 - 리뷰 테이블
    - 1박 요금
    - 위치 : 나라, 도시, 구까지 표시. 예) 서초구,서울,한국
    - 숙소 형태 : 예) 레지던스 전체
    - 호스트 이름
    - [x] 숙소 여건 : 예) 원룸.침대1개.욕실1개
        - 예시로 든 숙소 여건을 각각의 컬럼으로 가져가기로 결정.
    - 설명글


## 누락된 일정, 인원수 입력 페이지
- 여행 일정, 인원 정보가 누락된 경우, `정보입력하기` 버튼 활성화
- API 불필요해 보인다


## [API] 숙소예약
- 예약 정보
    - 체크인/체크아웃
    - 인원 : 게스트2명, 유아1명
    - 금액
    - 1박 요금
        - 주 단위 요금 할인 (4%)
        - 청소비 : 1박 요금의 약 2%
        - 서비스 수수료 : 1박 요금의 약 0.7%
        - 숙박세와 수수료 : 서비스 수수료 10%
        - 합계 금액 : 모든 요소를 합한 금액
- [x] 숙소 정보 : 어디까지 넣을지, FK로 ID만 넣을 것인지, 기본 정보 일부 넣을 것인지.
    - 일단은 FK만 넣고, 추가 컬럼은 추후 고려.


## [API] 숙소예약 확인
1. 숙소 예약 목록
- 숙소명, 체크인, 체크아웃
2. 숙소 예약 취소


## [API] 위시리스트
- 생성
- 목록
    - 리스트의 카드와 동일 형태
    - 하트 아이콘 칠해져있는 상태
    - 총 일정 비용 없음
- 삭제
    - 하트 다시 누르면 목록에서 삭제

## 더미 데이터 생성
> 자료 찾는 방법
- 공공정보 데이터 활용
    - 공공정보데이터 : https://www.data.go.kr/dataset/15011387/openapi.do
    - 참고 자료 : https://hyune.gitbook.io/hyune-wiki/and/codesquad/side-project
- 에어비앤비 API 활용